/* ==========================================================================
   NAV (mobile-first)
   Abajo fija en móvil, segura para notch, y con blur si está disponible.
   En desktop se sobreescribe en responsive/desktop.css.
   ========================================================================== */

.nav{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  z-index: 20;

  /* layout */
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  align-items: center;

  /* fondo y borde base (sin blur) para compatibilidad total */
  background: #161616;
  border-top: 1px solid var(--border);

  /* touch target y safe area en iOS */
  height: 64px;
  padding: 4px 6px calc(4px + env(safe-area-inset-bottom));
}

/* Si hay soporte, activar glass con desenfoque */
@supports (backdrop-filter: blur(6px)) or (-webkit-backdrop-filter: blur(6px)){
  .nav{
    background: rgba(22,22,22, .92);
    -webkit-backdrop-filter: blur(6px);
    backdrop-filter: blur(6px);
  }
}

.nav__item{
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 8px 6px;
  color: #bdbdbd;
  font-size: 12px;
  text-align: center;
  text-decoration: none;
  outline: none;
}
.nav__item .icon{
  width: 18px; height: 18px;
  fill: currentColor; opacity: .9;
}
.nav__item:hover{ color:#e0e0e0; }
.nav__item.is-active{ color: var(--accent); }

/* Indicador inferior en el item activo */
.nav__indicator{
  position: absolute;
  bottom: 0; left: 20%; right: 20%;
  height: 2px;
  background: transparent;
  border-radius: 2px;
}
.nav__item.is-active .nav__indicator{ background: var(--accent); }

/* Enfoque visible con teclado (a11y) */
.nav__item:focus-visible{
  box-shadow: 0 0 0 2px color-mix(in oklab, var(--accent) 40%, transparent);
  border-radius: 10px;
}

/* Si el usuario prefiere menos animación, respetarlo */
@media (prefers-reduced-motion: reduce){
  .nav, .nav *{ transition: none !important; }
}
