/* ============================================================================
   TOPBAR (barra superior pegadita)
   ----------------------------------------------------------------------------
   - Grid 48 | 1fr | 48 (atrás | título | acción) → sencillito y efectivo.
   - Blur si el navegador lo soporta. Fallback sólido si no.
   - Anchado forzado al 100% para que en emulaciones no “muerda” 1px.
   - Z-index por encima de la nav para que no se solapen al hacer scroll.
   ============================================================================ */

.topbar{
  height: 56px;
  display: grid;
  grid-template-columns: 48px 1fr 48px; /* atrás | título | acción */
  align-items: center;

  position: sticky;
  top: 0;
  left: 0; right: 0;     /* me aseguro de abarcar todo el ancho */
  width: 100%;
  z-index: 30;

  padding-top: env(safe-area-inset-top);
  border-bottom: 1px solid var(--border);
  background: #1a1a1a; /* fallback sin blur */
}
@supports (backdrop-filter: blur(8px)) or (-webkit-backdrop-filter: blur(8px)){
  .topbar{
    background: rgba(22,22,22, .86);
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
  }
}

.topbar h1{
  font-size: 16px;
  justify-self: center;
  margin: 0;
  text-align:center;
  max-width: 70vw; /* títulos largos no empujan iconos */
  white-space: nowrap; overflow:hidden; text-overflow: ellipsis;
}

.topbar .back, .topbar .action{
  display: grid; place-items: center; color: var(--txt);
  width: 48px; height: 56px;
}
.topbar .icon{ width:22px; height:22px; fill: currentColor; opacity:.92; }

/* Variantes por si las necesitas */
.topbar--no-border{ border-bottom:0 !important; }
.topbar--solid{
  background:#1a1a1a !important;
  -webkit-backdrop-filter:none !important;
  backdrop-filter:none !important;
}
